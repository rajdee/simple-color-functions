!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).colors=n()}(this,(function(){"use strict";var t=18,n=.95047,r=1,e=1.08883,u=.137931034,i=.206896552,o=.12841855,a=.008856452,f=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=255),Math.min(Math.max(n,t),r)},c=function(t){var n=t>.00304?1.055*Math.pow(t,1/2.4)-.055:12.92*t;return Math.round(255*f(n,0,1))},s=function(t){return t>i?t*t*t:o*(t-u)},p=function(t){var u,i,o,a=t.l,f=t.a,p=t.b;return i=(a+16)/116,u=isNaN(f)?i:i+f/500,o=isNaN(p)?i:i-p/200,i=r*s(i),u=n*s(u),o=e*s(o),{r:c(3.2404542*u-1.5371385*i-.4985314*o),g:c(-.969266*u+1.8760108*i+.041556*o),b:c(.0556434*u-.2040259*i+1.0572252*o)}},h=function(t){return(t/=255)>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92},l=function(t){return t>a?Math.pow(t,1/3):t/o+u},b=function(t,u,i){return t=h(t),u=h(u),i=h(i),{x:l((.4124564*t+.3575761*u+.1804375*i)/n),y:l((.2126729*t+.7151522*u+.072175*i)/r),z:l((.0193339*t+.119192*u+.9503041*i)/e)}},g=function(t){var n=t.r,r=t.g,e=t.b,u=b(n,r,e),i=u.x,o=u.y,a=116*o-16;return{l:a<0?0:a,a:500*(i-o),b:200*(o-u.z)}},d=function(t){return"#"===t[0]&&4===t.length||7===t.length},v=function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)},y=function(t){var n=t.r,r=t.g,e=t.b,u=v(n),i=v(r),o=v(e);return Math.sqrt(.299*u*u+.587*i*i+.114*o*o)};var _=function(t){return t?d(t)?function(t){if(!d(t))return null;var n,r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(4!==(n=t).length?n:n.split("").slice(1).reduce((function(t,n){return t+n+n}),"#"));return{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}}(t):function(t){if(!t)return!1;var n=t.replace(/\s+/g,"").split(",");return 3===n.length&&n.every((function(t){var n=/^\+?(0|[1-9]\d*)$/.test(t),r=parseInt(t,10);return n&&r>=0&&r<=255}))}(t)?function(t){var n=t.replace(/\s+/g,"").split(",").map((function(t){return parseInt(t,10)}));return{r:n[0],g:n[1],b:n[2]}}(t):void 0:{r:null,g:null,b:null,a:1}},m=function(t,n){var r=g(t),e=r.l,u=r.a,i=r.b,o=f(e*(1+function(t){if("number"==typeof t){if(Math.abs(t)<=1)return t;if(Math.abs(t)<=100)return t/100}return"string"==typeof t&&"%"===t[t.length-1]?parseFloat(t.replace("%","")/100):null}(n)),0,100);return p({l:o,a:u,b:i})},M=function(t){this._rgb=_(t)};M.prototype.rgb=function(){return this._rgb},M.prototype.css=function(){var t=this._rgb,n=t.r,r=t.g,e=t.b,u=t.a;return 1!==u&&u?u>0&&u<1&&"rgba("+n+","+r+","+e+","+u+")":"rgb("+n+","+r+","+e+")"},M.prototype.hex=function(){return t=this._rgb,Object.keys(t).reduce((function(n,r){var e=t[r].toString(16);return n+=e.length>1?e:"0"+e}),"#");var t},M.prototype.alpha=function(t){return t=parseFloat(t),this._rgb=Object.assign({},this._rgb,{a:t>=0&&t<=1?t:1}),this},M.prototype.darken=function(n){void 0===n&&(n=1);var r=g(this._rgb),e=r.l,u=r.a,i=r.b;return this._rgb=p({l:e-t*n,a:u,b:i}),this},M.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},M.prototype.brightness=function(t){return this._rgb=m(this._rgb,t),this},M.prototype.luminance=function(t){return y(t||this._rgb)},M.prototype.contrast=function(t,n){var r=this.luminance(_(t)),e=this.luminance(_(n));return r>e?(r+.05)/(e+.05):(e+.05)/(r+.05)},M.prototype.toString=function(){return this.hex()};return function(t){return new M(t)}}));
